<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.20" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" href="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/blogs_box/favicon32.jpg"><title>InspireCV: Lightweight CV library | InspireFace</title><meta name="description" content="A cross-platform high-performance deep learning facial analysis SDK framework.">
    <link rel="preload" href="/assets/style-B3-VMakp.css" as="style"><link rel="stylesheet" href="/assets/style-B3-VMakp.css">
    <link rel="modulepreload" href="/assets/app-BUWKuA4W.js"><link rel="modulepreload" href="/assets/inspirecv.html-Be6JZyFA.js">
    <link rel="prefetch" href="/assets/index.html-DGGvaBCm.js" as="script"><link rel="prefetch" href="/assets/feature.html-CE9pbBwQ.js" as="script"><link rel="prefetch" href="/assets/get-started.html-BM-LHp3f.js" as="script"><link rel="prefetch" href="/assets/introduction.html-BFemsWvd.js" as="script"><link rel="prefetch" href="/assets/arch.html-CTODr0hH.js" as="script"><link rel="prefetch" href="/assets/benchmark-remark(updating).html-TswXIGcJ.js" as="script"><link rel="prefetch" href="/assets/dense-landmark.html-alXqoSzK.js" as="script"><link rel="prefetch" href="/assets/python-rockchip-device.html-CWPrnJzq.js" as="script"><link rel="prefetch" href="/assets/android.html-CYye7M08.js" as="script"><link rel="prefetch" href="/assets/c-cpp.html-DGakAQxP.js" as="script"><link rel="prefetch" href="/assets/cpp.html-THZ7bHEG.js" as="script"><link rel="prefetch" href="/assets/cuda.html-QEDipcyH.js" as="script"><link rel="prefetch" href="/assets/ios.html-BchPONKo.js" as="script"><link rel="prefetch" href="/assets/python.html-B1obTXgS.js" as="script"><link rel="prefetch" href="/assets/rknpu.html-Bzp4MxD2.js" as="script"><link rel="prefetch" href="/assets/404.html-CDnKHXXV.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/126000993.png" alt="InspireFace"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">InspireFace</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/get-started.html" aria-label="Get Started"><!--[--><!--[--><!--]--><!--]-->Get Started<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/get-started.html" aria-label="Get Started"><!--[--><!--[--><!--]--><!--]-->Get Started<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/introduction.html" aria-label="Introduction"><!--[--><!--[--><!--]--><!--]-->Introduction<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/get-started.html" aria-label="Get Started"><!--[--><!--[--><!--]--><!--]-->Get Started<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/feature.html" aria-label="Feature"><!--[--><!--[--><!--]--><!--]-->Feature<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Using with <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/using-with/c-cpp.html" aria-label="C/C++"><!--[--><!--[--><!--]--><!--]-->C/C++<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/using-with/cpp.html" aria-label="C++"><!--[--><!--[--><!--]--><!--]-->C++<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/using-with/python.html" aria-label="Python"><!--[--><!--[--><!--]--><!--]-->Python<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/using-with/android.html" aria-label="Android"><!--[--><!--[--><!--]--><!--]-->Android<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/using-with/ios.html" aria-label="iOS"><!--[--><!--[--><!--]--><!--]-->iOS<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/using-with/cuda.html" aria-label="CUDA"><!--[--><!--[--><!--]--><!--]-->CUDA<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/using-with/rknpu.html" aria-label="Rockchip NPU"><!--[--><!--[--><!--]--><!--]-->Rockchip NPU<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active">Guides <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guides/arch.html" aria-label="Architecture"><!--[--><!--[--><!--]--><!--]-->Architecture<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guides/dense-landmark.html" aria-label="Dense Landmark"><!--[--><!--[--><!--]--><!--]-->Dense Landmark<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/guides/inspirecv.html" aria-label="Lightweight CV library"><!--[--><!--[--><!--]--><!--]-->Lightweight CV library<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guides/python-rockchip-device.html" aria-label="Python on Rockchip Device"><!--[--><!--[--><!--]--><!--]-->Python on Rockchip Device<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guides/benchmark-remark(updating).html" aria-label="Benchmark"><!--[--><!--[--><!--]--><!--]-->Benchmark<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="inspirecv-lightweight-cv-library" tabindex="-1"><a class="header-anchor" href="#inspirecv-lightweight-cv-library"><span>InspireCV: Lightweight CV library</span></a></h1><p><strong>InspireCV</strong> is a lightweight computer vision library that provides high-level abstract interfaces for commonly used vision algorithms. It features a flexible backend architecture, allowing users to leverage a lightweight backend by default while also offering the option to switch to a more powerful <strong>OpenCV backend</strong> for enhanced performance.</p><p><img src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/cv2.jpg" alt="InspireCV"></p><ul><li>Supports both OpenCV and custom OKCV backends</li><li>Core functionality includes: <ul><li>Basic image processing operations</li><li>Geometric primitives (Point, Rect, Size)</li><li>Transform matrices</li><li>Image I/O</li></ul></li><li>Minimal dependencies when using OKCV backend</li><li>Optional OpenCV integration for debugging and visualization</li></ul><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>InspireCV was developed to reduce SDK size and avoid dependency issues by replacing OpenCV with a lightweight, project-tailored vision library.</p></div><h2 id="build-options" tabindex="-1"><a class="header-anchor" href="#build-options"><span>Build Options</span></a></h2><h3 id="backend-selection" tabindex="-1"><a class="header-anchor" href="#backend-selection"><span>Backend Selection</span></a></h3><ul><li><code>INSPIRECV_BACKEND_OPENCV</code>: Use OpenCV as the backend (OFF by default)</li><li><code>INSPIRECV_BACKEND_OKCV_USE_OPENCV</code>: Enable OpenCV support in OKCV backend (OFF by default)</li><li><code>INSPIRECV_BACKEND_OKCV_USE_OPENCV_IO</code>: Use OpenCV&#39;s image I/O in OKCV (OFF by default)</li><li><code>INSPIRECV_BACKEND_OKCV_USE_OPENCV_GUI</code>: Use OpenCV&#39;s GUI features in OKCV (OFF by default)</li></ul><h3 id="other-options" tabindex="-1"><a class="header-anchor" href="#other-options"><span>Other Options</span></a></h3><ul><li><code>INSPIRECV_BUILD_SHARED_LIBS</code>: Build as shared libraries (OFF by default)</li><li><code>INSPIRECV_OKCV_BUILD_TESTS</code>: Build test suite (ON by default)</li><li><code>INSPIRECV_OKCV_BUILD_SAMPLE</code>: Build sample applications (ON by default)</li></ul><h3 id="dependencies" tabindex="-1"><a class="header-anchor" href="#dependencies"><span>Dependencies</span></a></h3><p>Required:</p><ul><li>CMake 3.10+</li><li>Eigen3</li><li>C++14 compiler</li></ul><p>Optional:</p><ul><li>OpenCV (required if using OpenCV backend or OpenCV features in OKCV)</li></ul><h2 id="use-guide" tabindex="-1"><a class="header-anchor" href="#use-guide"><span>Use Guide</span></a></h2><h3 id="image-i-0" tabindex="-1"><a class="header-anchor" href="#image-i-0"><span>Image I/0</span></a></h3><p>Image has multiple ways to load from file, buffer, or other sources. Default image type is 3-channel <strong>BGR</strong> image, like OpenCV.</p><ul><li><strong>Image Constructor</strong></li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-155-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-155-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-155-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line"><span class="token comment">// Load image from file</span></span>
<span class="line"><span class="token comment">// Load with 3 channels (BGR, like opencv)</span></span>
<span class="line">inspirecv<span class="token double-colon punctuation">::</span>Image img <span class="token operator">=</span> inspirecv<span class="token double-colon punctuation">::</span><span class="token class-name">Image</span><span class="token double-colon punctuation">::</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token string">&quot;test_res/data/bulk/kun_cartoon_crop.jpg&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Other load methods</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Load image from buffer</span></span>
<span class="line"><span class="token keyword">uint8_t</span><span class="token operator">*</span> buffer <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>  <span class="token comment">// buffer is a pointer to the image data</span></span>
<span class="line"><span class="token keyword">bool</span> is_alloc_mem <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  <span class="token comment">// if true, will allocate memory for the image data,</span></span>
<span class="line">                            <span class="token comment">// false is recommended to point to the original data to avoid copying</span></span>
<span class="line">inspirecv<span class="token double-colon punctuation">::</span>Image img <span class="token operator">=</span> inspirecv<span class="token double-colon punctuation">::</span><span class="token class-name">Image</span><span class="token double-colon punctuation">::</span><span class="token function">Create</span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> height<span class="token punctuation">,</span> channel<span class="token punctuation">,</span> buffer<span class="token punctuation">,</span> is_alloc_mem<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-155-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><ul><li><strong>Image Save and Show</strong></li></ul><p>Image supports multiple image formats, including PNG, JPG, BMP, etc. You can save image to file. If you want to show image, it must depend on OpenCV.</p><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-173-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-173-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-173-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line"><span class="token comment">// Save image to file</span></span>
<span class="line">img<span class="token punctuation">.</span><span class="token function">Write</span><span class="token punctuation">(</span><span class="token string">&quot;output.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Show image, warning: it must depend on opencv</span></span>
<span class="line">img<span class="token punctuation">.</span><span class="token function">Show</span><span class="token punctuation">(</span><span class="token string">&quot;input&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-173-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><ul><li><strong>Get pointer of Image</strong></li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-188-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-188-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-188-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line"><span class="token comment">// Get pointer to image data</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token keyword">uint8_t</span><span class="token operator">*</span> ptr <span class="token operator">=</span> img<span class="token punctuation">.</span><span class="token function">Data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-188-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><h3 id="image-processing" tabindex="-1"><a class="header-anchor" href="#image-processing"><span>Image Processing</span></a></h3><p>Image processing is a core functionality of InspireCV. It provides a set of functions to process images.</p><p>Take this original image for example:</p><p><img src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/kun_cartoon_crop.jpg" alt="KunKun"></p><p>Features includes:</p><ul><li><strong>ToGray</strong></li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-221-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-221-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-221-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line">inspirecv<span class="token double-colon punctuation">::</span>Image gray <span class="token operator">=</span> img<span class="token punctuation">.</span><span class="token function">ToGray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-221-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p><img src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/cv/gray.jpg" alt="Gray Image"></p><hr><ul><li><strong>Apply Gaussian blur</strong></li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-240-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-240-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-240-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line">inspirecv<span class="token double-colon punctuation">::</span>Image blurred <span class="token operator">=</span> img<span class="token punctuation">.</span><span class="token function">GaussianBlur</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-240-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p><img src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/cv/blurred.jpg" alt="Blurred Image"></p><hr><ul><li><strong>Resize</strong></li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-259-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-259-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-259-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line"><span class="token keyword">auto</span> scale <span class="token operator">=</span> <span class="token number">0.35</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">bool</span> use_bilinear <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></span>
<span class="line">inspirecv<span class="token double-colon punctuation">::</span>Image resized <span class="token operator">=</span> img<span class="token punctuation">.</span><span class="token function">Resize</span><span class="token punctuation">(</span>img<span class="token punctuation">.</span><span class="token function">Width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> scale<span class="token punctuation">,</span> img<span class="token punctuation">.</span><span class="token function">Height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> scale<span class="token punctuation">,</span> use_bilinear<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-259-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p><img src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/cv/resized.jpg" alt="Resized Image"></p><hr><ul><li><strong>Rotate</strong><ul><li>Support 90, 180, 270 clockwise degree rotation</li></ul></li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-285-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-285-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-285-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line">inspirecv<span class="token double-colon punctuation">::</span>Image rotated <span class="token operator">=</span> img<span class="token punctuation">.</span><span class="token function">Rotate90</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-285-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p><img src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/cv/rotated.jpg" alt="Rotated Image"></p><hr><ul><li><strong>Flip</strong><ul><li>Support horizontal, vertical, and both flip</li></ul></li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-311-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-311-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-311-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line">inspirecv<span class="token double-colon punctuation">::</span>Image flipped_vertical <span class="token operator">=</span> img<span class="token punctuation">.</span><span class="token function">FlipVertical</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-311-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p><img src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/cv/flipped_vertical.jpg" alt="Flipped Image"></p><hr><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-323-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-323-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-323-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line">inspirecv<span class="token double-colon punctuation">::</span>Image flipped_horizontal <span class="token operator">=</span> img<span class="token punctuation">.</span><span class="token function">FlipHorizontal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-323-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p><img src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/cv/flipped_horizontal.jpg" alt="Flipped Image"></p><hr><ul><li><strong>Crop</strong></li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-342-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-342-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-342-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line">inspirecv<span class="token double-colon punctuation">::</span>Rect<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> rect <span class="token operator">=</span> inspirecv<span class="token double-colon punctuation">::</span><span class="token class-name">Rect</span><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token number">78</span><span class="token punctuation">,</span> <span class="token number">41</span><span class="token punctuation">,</span> <span class="token number">171</span><span class="token punctuation">,</span> <span class="token number">171</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">inspirecv<span class="token double-colon punctuation">::</span>Image cropped <span class="token operator">=</span> img<span class="token punctuation">.</span><span class="token function">Crop</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-342-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p><img src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/cv/cropped.jpg" alt="Cropped Image"></p><hr><ul><li><strong>Padding</strong></li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-361-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-361-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-361-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line"><span class="token keyword">int</span> top <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">,</span> bottom <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">,</span> left <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span></span>
<span class="line">inspirecv<span class="token double-colon punctuation">::</span>Image padded <span class="token operator">=</span> img<span class="token punctuation">.</span><span class="token function">Pad</span><span class="token punctuation">(</span>top<span class="token punctuation">,</span> bottom<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right<span class="token punctuation">,</span> inspirecv<span class="token double-colon punctuation">::</span>Color<span class="token double-colon punctuation">::</span>Black<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-361-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p><img src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/cv/padded.jpg" alt="Padded Image"></p><hr><ul><li><strong>Swap red and blue channels</strong></li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-380-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-380-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-380-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line">inspirecv<span class="token double-colon punctuation">::</span>Image swapped <span class="token operator">=</span> img<span class="token punctuation">.</span><span class="token function">SwapRB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-380-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p><img src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/cv/swapped.jpg" alt="Swapped Image"></p><hr><ul><li><strong>Multiply</strong></li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-399-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-399-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-399-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line"><span class="token keyword">double</span> scale_factor <span class="token operator">=</span> <span class="token number">0.5</span><span class="token punctuation">;</span></span>
<span class="line">inspirecv<span class="token double-colon punctuation">::</span>Image scaled <span class="token operator">=</span> img<span class="token punctuation">.</span><span class="token function">Mul</span><span class="token punctuation">(</span>scale_factor<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-399-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p><img src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/cv/scaled.jpg" alt="Scaled Image"></p><hr><ul><li><strong>Add</strong></li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-418-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-418-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-418-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line"><span class="token keyword">double</span> value <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">175</span><span class="token punctuation">;</span></span>
<span class="line">inspirecv<span class="token double-colon punctuation">::</span>Image added <span class="token operator">=</span> img<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-418-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p><img src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/cv/added.jpg" alt="Added Image"></p><hr><ul><li><strong>Affine transform</strong><ul><li>Like warpAffine in OpenCV</li></ul></li></ul><p>Origin input is rotated 90 degree image, and the transform matrix is from face location:</p><p><img src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/cv/rotated.jpg" alt="Rotated Image"></p><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-450-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-450-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-450-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line"><span class="token comment">/**</span>
<span class="line"> * Create a transform matrix from the following matrix</span>
<span class="line"> * [[a11, a12, tx],</span>
<span class="line"> *  [a21, a22, ty]]</span>
<span class="line"> *</span>
<span class="line"> * Face crop transform matrix</span>
<span class="line"> * [[0.0, -1.37626, 261.127],</span>
<span class="line"> *  [1.37626, 0.0, 85.1831]]</span>
<span class="line">*/</span></span>
<span class="line"><span class="token keyword">float</span> a11 <span class="token operator">=</span> <span class="token number">0.0f</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">float</span> a12 <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1.37626f</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">float</span> a21 <span class="token operator">=</span> <span class="token number">1.37626f</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">float</span> a22 <span class="token operator">=</span> <span class="token number">0.0f</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">float</span> b1 <span class="token operator">=</span> <span class="token number">261.127f</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">float</span> b2 <span class="token operator">=</span> <span class="token number">85.1831f</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Create a transform matrix: Face location transform matrix</span></span>
<span class="line">inspirecv<span class="token double-colon punctuation">::</span>TransformMatrix trans <span class="token operator">=</span> inspirecv<span class="token double-colon punctuation">::</span><span class="token class-name">TransformMatrix</span><span class="token double-colon punctuation">::</span><span class="token function">Create</span><span class="token punctuation">(</span>a11<span class="token punctuation">,</span> a12<span class="token punctuation">,</span> b1<span class="token punctuation">,</span> a21<span class="token punctuation">,</span> a22<span class="token punctuation">,</span> b2<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// dst_width and dst_height is the size of the output image</span></span>
<span class="line"><span class="token keyword">int</span> dst_width <span class="token operator">=</span> <span class="token number">112</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">int</span> dst_height <span class="token operator">=</span> <span class="token number">112</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Apply affine transform</span></span>
<span class="line">inspirecv<span class="token double-colon punctuation">::</span>Image affine <span class="token operator">=</span> rotated_90<span class="token punctuation">.</span><span class="token function">WarpAffine</span><span class="token punctuation">(</span>trans<span class="token punctuation">,</span> dst_width<span class="token punctuation">,</span> dst_height<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-450-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p><img src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/cv/affine.jpg" alt="Affine Image"></p><hr><h2 id="image-draw" tabindex="-1"><a class="header-anchor" href="#image-draw"><span>Image Draw</span></a></h2><p>Image draw is a core functionality of InspireCV. It provides a set of functions to draw on images.</p><ul><li><strong>Draw rectangle</strong></li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-475-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-475-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-475-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line">inspirecv<span class="token double-colon punctuation">::</span>Rect<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> new_rect <span class="token operator">=</span> rect<span class="token punctuation">.</span><span class="token function">Square</span><span class="token punctuation">(</span><span class="token number">1.1f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Square and expand the rect</span></span>
<span class="line"><span class="token keyword">int</span> thickness <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span></span>
<span class="line">draw_img<span class="token punctuation">.</span><span class="token function">DrawRect</span><span class="token punctuation">(</span>new_rect<span class="token punctuation">,</span> inspirecv<span class="token double-colon punctuation">::</span>Color<span class="token double-colon punctuation">::</span>Green<span class="token punctuation">,</span> thickness<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-475-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p><img src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/cv/draw_rect.jpg" alt="Draw Rectangle"></p><hr><ul><li><strong>Draw circle</strong></li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-494-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-494-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-494-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line">std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span>inspirecv<span class="token double-colon punctuation">::</span>Point<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> points <span class="token operator">=</span> new_rect<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">As</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToFourVertices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> point <span class="token operator">:</span> points<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    draw_img<span class="token punctuation">.</span><span class="token function">DrawCircle</span><span class="token punctuation">(</span>point<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> inspirecv<span class="token double-colon punctuation">::</span>Color<span class="token double-colon punctuation">::</span>Red<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-494-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p><img src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/cv/draw_circle.jpg" alt="Draw Circle"></p><hr><ul><li><strong>Draw Lines</strong></li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-513-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-513-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-513-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line">draw_img<span class="token punctuation">.</span><span class="token function">DrawLine</span><span class="token punctuation">(</span>points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> points<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> inspirecv<span class="token double-colon punctuation">::</span>Color<span class="token double-colon punctuation">::</span>Cyan<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">draw_img<span class="token punctuation">.</span><span class="token function">DrawLine</span><span class="token punctuation">(</span>points<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> points<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> inspirecv<span class="token double-colon punctuation">::</span>Color<span class="token double-colon punctuation">::</span>Magenta<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">draw_img<span class="token punctuation">.</span><span class="token function">DrawLine</span><span class="token punctuation">(</span>points<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> points<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> inspirecv<span class="token double-colon punctuation">::</span>Color<span class="token double-colon punctuation">::</span>Pink<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">draw_img<span class="token punctuation">.</span><span class="token function">DrawLine</span><span class="token punctuation">(</span>points<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> points<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> inspirecv<span class="token double-colon punctuation">::</span>Color<span class="token double-colon punctuation">::</span>Yellow<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-513-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p><img src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/cv/draw_line.jpg" alt="Draw Lines"></p><hr><ul><li><strong>Fill</strong></li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-532-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-532-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-532-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line">draw_img<span class="token punctuation">.</span><span class="token function">Fill</span><span class="token punctuation">(</span>new_rect<span class="token punctuation">,</span> inspirecv<span class="token double-colon punctuation">::</span>Color<span class="token double-colon punctuation">::</span>Purple<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-532-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p><img src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/cv/fill_rect.jpg" alt="Fill"></p><hr><ul><li><strong>Reset</strong></li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-551-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-551-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-551-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line"><span class="token comment">// Reset image to gray</span></span>
<span class="line">std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">uint8_t</span><span class="token operator">&gt;</span> <span class="token function">gray_color</span><span class="token punctuation">(</span>img<span class="token punctuation">.</span><span class="token function">Width</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> img<span class="token punctuation">.</span><span class="token function">Height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">img<span class="token punctuation">.</span><span class="token function">Reset</span><span class="token punctuation">(</span>img<span class="token punctuation">.</span><span class="token function">Width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> img<span class="token punctuation">.</span><span class="token function">Height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> gray_color<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-551-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p><img src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/cv/reset.jpg" alt="Reset"></p><h2 id="frame-process" tabindex="-1"><a class="header-anchor" href="#frame-process"><span>Frame Process</span></a></h2><p>To streamline image processing, we designed a frame processor that wraps around the input image, providing flexible support for frame sequences such as images or video streams. It integrates a processing pipeline with built-in image decoding (<strong>BGR, RGB, BGRA, RGBA, YUV, NV12, NV21</strong>), rotation, scaling, and affine transformations, while optimizing internal buffering for enhanced performance.</p><div class="hint-container warning"><p class="hint-container-title">Warning</p><p><strong>FrameProcess</strong> is an InspireFace module and is not yet integrated into the InspireCV library.</p></div><h3 id="create-frame-processor" tabindex="-1"><a class="header-anchor" href="#create-frame-processor"><span>Create Frame Processor</span></a></h3><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-576-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-576-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-576-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line"><span class="token comment">// BGR888 as raw data</span></span>
<span class="line">inspirecv<span class="token double-colon punctuation">::</span>Image raw <span class="token operator">=</span> inspirecv<span class="token double-colon punctuation">::</span><span class="token class-name">Image</span><span class="token double-colon punctuation">::</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token string">&quot;test_res/data/bulk/kun_cartoon_crop_r90.jpg&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token keyword">uint8_t</span><span class="token operator">*</span> buffer <span class="token operator">=</span> raw<span class="token punctuation">.</span><span class="token function">Data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// You can also use other image format, like NV21, NV12, RGBA, RGB, BGR, BGRA</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token keyword">uint8_t</span><span class="token operator">*</span> buffer <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Create frame process</span></span>
<span class="line"><span class="token keyword">auto</span> width <span class="token operator">=</span> raw<span class="token punctuation">.</span><span class="token function">Width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">auto</span> height <span class="token operator">=</span> raw<span class="token punctuation">.</span><span class="token function">Height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">auto</span> rotation_mode <span class="token operator">=</span> inspirecv<span class="token double-colon punctuation">::</span>ROTATION_90<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">auto</span> data_format <span class="token operator">=</span> inspirecv<span class="token double-colon punctuation">::</span>BGR<span class="token punctuation">;</span></span>
<span class="line">inspirecv<span class="token double-colon punctuation">::</span>FrameProcess frame_process <span class="token operator">=</span> inspirecv<span class="token double-colon punctuation">::</span><span class="token class-name">FrameProcess</span><span class="token double-colon punctuation">::</span><span class="token function">Create</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span> height<span class="token punctuation">,</span> width<span class="token punctuation">,</span> data_format<span class="token punctuation">,</span> rotation_mode<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-576-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p>Example of raw data:</p><p><img src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/cv/rotated.jpg" alt="Resized Image"></p><h3 id="pipeline" tabindex="-1"><a class="header-anchor" href="#pipeline"><span>Pipeline</span></a></h3><ul><li>Set preview size</li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-600-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-600-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-600-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line"><span class="token comment">// Set preview size</span></span>
<span class="line">frame_process<span class="token punctuation">.</span><span class="token function">SetPreviewSize</span><span class="token punctuation">(</span><span class="token number">160</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// or</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Set preview scale</span></span>
<span class="line">frame_process<span class="token punctuation">.</span><span class="token function">SetPreviewScale</span><span class="token punctuation">(</span><span class="token number">0.5f</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-600-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><ul><li><strong>Get transform image</strong><ul><li>Will rotate and scale the image to the preview size</li></ul></li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-622-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-622-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-622-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line">inspirecv<span class="token double-colon punctuation">::</span>Image transform_img <span class="token operator">=</span> frame_process<span class="token punctuation">.</span><span class="token function">GetTransformImage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-622-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p><img src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/cv/transform_img.jpg" alt="Transform Image"></p><hr><ul><li><strong>Get affine processing image</strong></li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-641-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-641-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-641-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line"><span class="token comment">/** </span>
<span class="line"> * Face crop transform matrix</span>
<span class="line"> * [[0.0, 0.726607, -61.8946],</span>
<span class="line"> *  [-0.726607, 0.0, 189.737]]</span>
<span class="line">*/</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Face crop transform matrix</span></span>
<span class="line"><span class="token keyword">float</span> a11 <span class="token operator">=</span> <span class="token number">0.0f</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">float</span> a12 <span class="token operator">=</span> <span class="token number">0.726607f</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">float</span> a21 <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">0.726607</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">float</span> a22 <span class="token operator">=</span> <span class="token number">0.0f</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">float</span> b1 <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">61.8946f</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">float</span> b2 <span class="token operator">=</span> <span class="token number">189.737f</span><span class="token punctuation">;</span></span>
<span class="line">inspirecv<span class="token double-colon punctuation">::</span>TransformMatrix affine_matrix <span class="token operator">=</span> inspirecv<span class="token double-colon punctuation">::</span><span class="token class-name">TransformMatrix</span><span class="token double-colon punctuation">::</span><span class="token function">Create</span><span class="token punctuation">(</span>a11<span class="token punctuation">,</span> a12<span class="token punctuation">,</span> b1<span class="token punctuation">,</span> a21<span class="token punctuation">,</span> a22<span class="token punctuation">,</span> b2<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">int</span> dst_width <span class="token operator">=</span> <span class="token number">112</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">int</span> dst_height <span class="token operator">=</span> <span class="token number">112</span><span class="token punctuation">;</span></span>
<span class="line">inspirecv<span class="token double-colon punctuation">::</span>Image affine_img <span class="token operator">=</span> frame_process<span class="token punctuation">.</span><span class="token function">ExecuteImageAffineProcessing</span><span class="token punctuation">(</span>affine_matrix<span class="token punctuation">,</span> dst_width<span class="token punctuation">,</span> dst_height<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-641-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><p><img src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/cv/affine_img.jpg" alt="Affine Processing Image"></p><h2 id="performance-considerations" tabindex="-1"><a class="header-anchor" href="#performance-considerations"><span>Performance Considerations</span></a></h2><ul><li>The library uses Eigen3 for efficient matrix operations</li><li>OKCV backend provides lightweight alternatives to OpenCV</li><li>Operations are designed to minimize memory allocations</li><li>Thread-safe operations for parallel processing</li></ul><h2 id="thread-safety" tabindex="-1"><a class="header-anchor" href="#thread-safety"><span>Thread Safety</span></a></h2><p>The library is designed to be thread-safe. You can use it in multi-threaded applications.</p><h2 id="error-handling" tabindex="-1"><a class="header-anchor" href="#error-handling"><span>Error Handling</span></a></h2><p>The library uses error codes and exceptions to handle error conditions:</p><ul><li>Image loading/saving errors</li><li>Invalid parameters</li><li>Memory allocation failures</li><li>Backend-specific errors</li></ul><p>Errors can be caught using standard try-catch blocks:</p><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-714-0" aria-selected="true">C++</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-714-1" aria-selected="false">C</button></div><!--[--><div class="vp-code-tab active" id="codetab-714-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">C++</div><!--[--><div class="language-cpp line-numbers-mode" data-highlighter="prismjs" data-ext="cpp"><pre><code><span class="line"><span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">    Image img <span class="token operator">=</span> <span class="token class-name">Image</span><span class="token double-colon punctuation">::</span><span class="token function">Create</span><span class="token punctuation">(</span><span class="token string">&quot;nonexistent.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token double-colon punctuation">::</span>exception<span class="token operator">&amp;</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    std<span class="token double-colon punctuation">::</span>cerr <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Error: &quot;</span> <span class="token operator">&lt;&lt;</span> e<span class="token punctuation">.</span><span class="token function">what</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-714-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">C</div><!--[--><div class="language-c line-numbers-mode" data-highlighter="prismjs" data-ext="c"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated:: </span><time class="meta-item-info" datetime="2025-04-23T12:15:06.000Z" data-allow-mismatch>4/23/25, 12:15 PM</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: tunmxy@163.com">Jingyu</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/guides/dense-landmark.html" aria-label="Dense Landmark"><!--[--><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span class="external-link">Dense Landmark</span></div><!--]--></a><a class="route-link auto-link next" href="/guides/python-rockchip-device.html" aria-label="Python on Rockchip Device"><!--[--><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span class="external-link">Python on Rockchip Device</span></div><!--]--></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-BUWKuA4W.js" defer></script>
  </body>
</html>
