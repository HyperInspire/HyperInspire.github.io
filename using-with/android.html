<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.20" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" href="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/blogs_box/favicon32.jpg"><title>Using InspireFace in Android | InspireFace</title><meta name="description" content="A cross-platform high-performance deep learning facial analysis SDK framework.">
    <link rel="preload" href="/assets/style-B3-VMakp.css" as="style"><link rel="stylesheet" href="/assets/style-B3-VMakp.css">
    <link rel="modulepreload" href="/assets/app-qoVs9asn.js"><link rel="modulepreload" href="/assets/android.html-CQRAzbi-.js">
    <link rel="prefetch" href="/assets/index.html-BwiKqfsq.js" as="script"><link rel="prefetch" href="/assets/feature.html-CJVheoe9.js" as="script"><link rel="prefetch" href="/assets/get-started.html-C0k-W0jD.js" as="script"><link rel="prefetch" href="/assets/introduction.html-Bmx8MVhr.js" as="script"><link rel="prefetch" href="/assets/arch.html-Ddaui42X.js" as="script"><link rel="prefetch" href="/assets/benchmark-remark(updating).html-B4IyrT4O.js" as="script"><link rel="prefetch" href="/assets/dense-landmark.html-BfziBjim.js" as="script"><link rel="prefetch" href="/assets/inspirecv.html-CHy7Dnm6.js" as="script"><link rel="prefetch" href="/assets/python-rockchip-device.html-BsmEF_Qc.js" as="script"><link rel="prefetch" href="/assets/c-cpp.html-w73_PZhi.js" as="script"><link rel="prefetch" href="/assets/cpp.html-Dv5O14j0.js" as="script"><link rel="prefetch" href="/assets/cuda.html-CHAOYoMb.js" as="script"><link rel="prefetch" href="/assets/ios.html-DGtgMByE.js" as="script"><link rel="prefetch" href="/assets/python.html-Dsq7Sdc0.js" as="script"><link rel="prefetch" href="/assets/rknpu.html-ClcP7tkq.js" as="script"><link rel="prefetch" href="/assets/404.html-LsnK7IPA.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="https://inspireface-1259028827.cos.ap-singapore.myqcloud.com/docs/126000993.png" alt="InspireFace"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">InspireFace</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/get-started.html" aria-label="Get Started"><!--[--><!--[--><!--]--><!--]-->Get Started<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/get-started.html" aria-label="Get Started"><!--[--><!--[--><!--]--><!--]-->Get Started<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/introduction.html" aria-label="Introduction"><!--[--><!--[--><!--]--><!--]-->Introduction<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/get-started.html" aria-label="Get Started"><!--[--><!--[--><!--]--><!--]-->Get Started<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/feature.html" aria-label="Feature"><!--[--><!--[--><!--]--><!--]-->Feature<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active">Using with <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/using-with/c-cpp.html" aria-label="C/C++"><!--[--><!--[--><!--]--><!--]-->C/C++<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/using-with/cpp.html" aria-label="C++"><!--[--><!--[--><!--]--><!--]-->C++<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/using-with/python.html" aria-label="Python"><!--[--><!--[--><!--]--><!--]-->Python<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/using-with/android.html" aria-label="Android"><!--[--><!--[--><!--]--><!--]-->Android<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/using-with/ios.html" aria-label="iOS"><!--[--><!--[--><!--]--><!--]-->iOS<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/using-with/cuda.html" aria-label="CUDA"><!--[--><!--[--><!--]--><!--]-->CUDA<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/using-with/rknpu.html" aria-label="Rockchip NPU"><!--[--><!--[--><!--]--><!--]-->Rockchip NPU<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Guides <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/guides/arch.html" aria-label="Architecture"><!--[--><!--[--><!--]--><!--]-->Architecture<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guides/dense-landmark.html" aria-label="Dense Landmark"><!--[--><!--[--><!--]--><!--]-->Dense Landmark<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guides/inspirecv.html" aria-label="Lightweight CV library"><!--[--><!--[--><!--]--><!--]-->Lightweight CV library<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guides/python-rockchip-device.html" aria-label="Python on Rockchip Device"><!--[--><!--[--><!--]--><!--]-->Python on Rockchip Device<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/guides/benchmark-remark(updating).html" aria-label="Benchmark"><!--[--><!--[--><!--]--><!--]-->Benchmark<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="using-inspireface-in-android" tabindex="-1"><a class="header-anchor" href="#using-inspireface-in-android"><span>Using InspireFace in Android</span></a></h1><p>InspireFace&#39;s Android SDK is based on dynamic library +CAPI and provides JNI interface for users to use.</p><h2 id="installation-and-setup" tabindex="-1"><a class="header-anchor" href="#installation-and-setup"><span>Installation and Setup</span></a></h2><h3 id="dependent-release-version" tabindex="-1"><a class="header-anchor" href="#dependent-release-version"><span>Dependent Release version</span></a></h3><p>We released InspireFace&#39;s Android SDK on JitPack, which you can incorporate into your android projects in the following ways.</p><ul><li>Step 1. Add the JitPack repository to your build file add it in your root <strong>build.gradle</strong> at the end of repositories:</li></ul><div class="language-gradle line-numbers-mode" data-highlighter="prismjs" data-ext="gradle"><pre><code><span class="line">allprojects <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">repositories</span> <span class="token punctuation">{</span></span>
<span class="line">       <span class="token punctuation">...</span></span>
<span class="line">       maven <span class="token punctuation">{</span> url <span class="token string">&#39;https://jitpack.io&#39;</span> <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Step 2. Add the dependency to your app&#39;s <strong>build.gradle</strong> file:</li></ul><div class="language-gradle line-numbers-mode" data-highlighter="prismjs" data-ext="gradle"><pre><code><span class="line"><span class="token keyword">dependencies</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">implementation</span> <span class="token string">&#39;com.github.HyperInspire:inspireface-android-sdk:1.2.2&#39;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="compile-from-source-code" tabindex="-1"><a class="header-anchor" href="#compile-from-source-code"><span>Compile from source code</span></a></h3><p>TODO</p><h2 id="initialization" tabindex="-1"><a class="header-anchor" href="#initialization"><span>Initialization</span></a></h2><p>Global initialization of InspireFace is necessary. You only need to perform it once when the program starts. The initialization includes functions such as configuration reading and model loading.</p><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-43-0" aria-selected="true">Java</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-43-1" aria-selected="false">Kotlin</button></div><!--[--><div class="vp-code-tab active" id="codetab-43-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">Java</div><!--[--><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code><span class="line"><span class="token comment">// Launch InspireFace, only need to call once</span></span>
<span class="line"><span class="token keyword">boolean</span> launchStatus <span class="token operator">=</span> <span class="token class-name">InspireFace<span class="token punctuation">.</span>GlobalLaunch</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token class-name">InspireFace</span><span class="token punctuation">.</span><span class="token constant">PIKACHU</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>launchStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;Failed to launch InspireFace&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// .... </span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Global release</span></span>
<span class="line"><span class="token class-name">InspireFace<span class="token punctuation">.</span>GlobalRelease</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-43-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">Kotlin</div><!--[--><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><h2 id="face-algorithm-session" tabindex="-1"><a class="header-anchor" href="#face-algorithm-session"><span>Face Algorithm Session</span></a></h2><p>InspireFace&#39;s facial analysis algorithms are all concentrated in the session. You can use the session instance to perform <strong>face recognition</strong>, <strong>face embedding extraction</strong>, <strong>face detection</strong>, <strong>face tracking</strong>, <strong>landmark localization</strong>, <strong>liveness detection</strong>, <strong>head pose estimation</strong>, <strong>attribute recognition</strong>, and other functions.</p><p>Since the session contains some cache, <strong>we recommend</strong> using one session within a thread, and <strong>we don&#39;t recommend</strong> cross-using internal data from multiple sessions in tracking mode, as this can easily cause confusion. Sessions can be freely created and destroyed anywhere.</p><h3 id="create-session" tabindex="-1"><a class="header-anchor" href="#create-session"><span>Create Session</span></a></h3><p>When creating a session, there are some important parameters that need to be specified:</p><ul><li><strong>Option</strong>: Features that need to be turned on, such as face recognition, mask detection, face attributes. This step will increase the memory used by the session</li><li><strong>Detect Mode</strong>: <ul><li><strong>Always Detection</strong>: Face detection is performed each time, usually for image input or scenes where faces do not need to be tracked</li><li><strong>Light Tracking</strong>: Lightweight face tracking algorithm, support input frame sequence tracking face, tracking speed is extremely fast</li><li><strong>Tracking by Detection</strong>: With detector-dependent tracking, detection is performed every frame, with low speed and high precision</li></ul></li><li><strong>Max Faces</strong>: Limit the maximum number of faces to detect, if the number of faces is too large, the algorithm will be slow</li><li><strong>Detect Pixel Level</strong>: Face detector level, the higher the more accurate, but also affect the execution speed, usually 160, 192, 256, 320, 640</li></ul><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>When creating a session, it will use device memory, and as more options are enabled, the memory usage increases. Appropriately disabling some unnecessary features can save memory.</p></div><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-110-0" aria-selected="true">Java</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-110-1" aria-selected="false">Kotlin</button></div><!--[--><div class="vp-code-tab active" id="codetab-110-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">Java</div><!--[--><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code><span class="line"><span class="token keyword">boolean</span> launchStatus <span class="token operator">=</span> <span class="token class-name">InspireFace<span class="token punctuation">.</span>GlobalLaunch</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token class-name">InspireFace</span><span class="token punctuation">.</span><span class="token constant">PIKACHU</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;Launch status: &quot;</span> <span class="token operator">+</span> launchStatus<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>launchStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">e</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;Failed to launch InspireFace&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">return</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token class-name">CustomParameter</span> parameter <span class="token operator">=</span> <span class="token class-name">InspireFace<span class="token punctuation">.</span>CreateCustomParameter</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">enableRecognition</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>           <span class="token comment">// Enable face recognition</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">enableFaceQuality</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>           <span class="token comment">// Enable face quality detection</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">enableFaceAttribute</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>         <span class="token comment">// Enable face attribute detection</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">enableInteractionLiveness</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>   <span class="token comment">// Enable interaction liveness detection</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">enableLiveness</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>              <span class="token comment">// Enable liveness detection</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">enableMaskDetect</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// Enable mask detection</span></span>
<span class="line"><span class="token comment">// Face detection level, 160/320/640</span></span>
<span class="line"><span class="token keyword">int</span> detectLevel <span class="token operator">=</span> <span class="token number">320</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// Supports the maximum number of faces detected</span></span>
<span class="line"><span class="token keyword">int</span> maxFaces <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// Create session</span></span>
<span class="line"><span class="token class-name">Session</span> session <span class="token operator">=</span> <span class="token class-name">InspireFace<span class="token punctuation">.</span>CreateSession</span><span class="token punctuation">(</span></span>
<span class="line">    parameter<span class="token punctuation">,</span> <span class="token class-name">InspireFace</span><span class="token punctuation">.</span><span class="token constant">DETECT_MODE_ALWAYS_DETECT</span><span class="token punctuation">,</span> maxFaces<span class="token punctuation">,</span> detectLevel<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// Configure some face detection parameters</span></span>
<span class="line"><span class="token class-name">InspireFace<span class="token punctuation">.</span>SetTrackPreviewSize</span><span class="token punctuation">(</span>session<span class="token punctuation">,</span> <span class="token number">320</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">InspireFace<span class="token punctuation">.</span>SetFaceDetectThreshold</span><span class="token punctuation">(</span>session<span class="token punctuation">,</span> <span class="token number">0.5f</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">InspireFace<span class="token punctuation">.</span>SetFilterMinimumFacePixelSize</span><span class="token punctuation">(</span>session<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Destroy session, when you don&#39;t need it</span></span>
<span class="line"><span class="token class-name">InspireFace<span class="token punctuation">.</span>DestroySession</span><span class="token punctuation">(</span>session<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-110-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">Kotlin</div><!--[--><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><h3 id="image-stream" tabindex="-1"><a class="header-anchor" href="#image-stream"><span>Image Stream</span></a></h3><p>Image stream is a data structure that stores image data, which is used to pass image data between the SDK and the user.</p><ul><li><strong>Create Image Stream</strong>: Create an image stream from a bitmap</li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-131-0" aria-selected="true">Java</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-131-1" aria-selected="false">Kotlin</button></div><!--[--><div class="vp-code-tab active" id="codetab-131-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">Java</div><!--[--><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code><span class="line"><span class="token class-name">Bitmap</span> img <span class="token operator">=</span> <span class="token class-name">SDKUtils</span><span class="token punctuation">.</span><span class="token function">getImageFromAssetsFile</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;inspireface/kun.jpg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">ImageStream</span> stream <span class="token operator">=</span> <span class="token class-name">InspireFace<span class="token punctuation">.</span>CreateImageStreamFromBitmap</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token class-name">InspireFace</span><span class="token punctuation">.</span><span class="token constant">CAMERA_ROTATION_0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-131-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">Kotlin</div><!--[--><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><ul><li><strong>Create Image Stream from File</strong>: Create an image stream from buffer</li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-146-0" aria-selected="true">Java</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-146-1" aria-selected="false">Kotlin</button></div><!--[--><div class="vp-code-tab active" id="codetab-146-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">Java</div><!--[--><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code><span class="line"><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buffer <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span> <span class="token comment">// buffer of image/video/frame...</span></span>
<span class="line"><span class="token keyword">int</span> height <span class="token operator">=</span> <span class="token number">640</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">int</span> width <span class="token operator">=</span> <span class="token number">480</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">int</span> format <span class="token operator">=</span> <span class="token class-name">InspireFace</span><span class="token punctuation">.</span><span class="token constant">STREAM_YUV_NV21</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">int</span> rotation <span class="token operator">=</span> <span class="token class-name">InspireFace</span><span class="token punctuation">.</span><span class="token constant">CAMERA_ROTATION_0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">ImageStream</span> stream <span class="token operator">=</span> <span class="token class-name">InspireFace<span class="token punctuation">.</span>CreateImageStreamFromByteBuffer</span><span class="token punctuation">(</span>buffer<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">,</span> format<span class="token punctuation">,</span> rotation<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-146-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">Kotlin</div><!--[--><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><ul><li><strong>Destroy Image Stream</strong>: Destroy an image stream</li></ul><p>When you don&#39;t need an image stream, you can destroy it:</p><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-164-0" aria-selected="true">Java</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-164-1" aria-selected="false">Kotlin</button></div><!--[--><div class="vp-code-tab active" id="codetab-164-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">Java</div><!--[--><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code><span class="line"><span class="token class-name">InspireFace<span class="token punctuation">.</span>ReleaseImageStream</span><span class="token punctuation">(</span>stream<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-164-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">Kotlin</div><!--[--><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><h3 id="face-detection" tabindex="-1"><a class="header-anchor" href="#face-detection"><span>Face Detection</span></a></h3><p>Face detection is the first step in the analysis of faces, which requires the input of an image or frame:</p><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-178-0" aria-selected="true">Java</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-178-1" aria-selected="false">Kotlin</button></div><!--[--><div class="vp-code-tab active" id="codetab-178-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">Java</div><!--[--><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code><span class="line"><span class="token class-name">MultipleFaceData</span> multipleFaceData <span class="token operator">=</span> <span class="token class-name">InspireFace<span class="token punctuation">.</span>ExecuteFaceTrack</span><span class="token punctuation">(</span>session<span class="token punctuation">,</span> stream<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> multipleFaceData<span class="token punctuation">.</span>detectedNum<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// continue to processing</span></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-178-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">Kotlin</div><!--[--><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><h3 id="get-face-embedding" tabindex="-1"><a class="header-anchor" href="#get-face-embedding"><span>Get Face Embedding</span></a></h3><p>Get face Embeding is an important step in face recognition, comparison or face swap, which usually needs to be carried out after face detection or tracking:</p><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-192-0" aria-selected="true">Java</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-192-1" aria-selected="false">Kotlin</button></div><!--[--><div class="vp-code-tab active" id="codetab-192-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">Java</div><!--[--><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code><span class="line"><span class="token keyword">int</span> selectIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token comment">// Select an index</span></span>
<span class="line"><span class="token class-name">FaceFeature</span> feature <span class="token operator">=</span> <span class="token class-name">InspireFace<span class="token punctuation">.</span>ExtractFaceFeature</span><span class="token punctuation">(</span>session<span class="token punctuation">,</span> stream<span class="token punctuation">,</span> multipleFaceData<span class="token punctuation">.</span>tokens<span class="token punctuation">[</span>selectIndex<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-192-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">Kotlin</div><!--[--><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><h2 id="feature-hub" tabindex="-1"><a class="header-anchor" href="#feature-hub"><span>Feature Hub</span></a></h2><p>FeatureHub is a globally scoped database that manages face features with full support for create, read, update, and delete operations. It supports both in-memory and persistent storage modes and only needs to be configured once globally upon initialization.</p><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>Please be mindful when selecting the storage mode. If you choose the persistent mode, make sure to securely store the database file to prevent data loss.</p></div><h3 id="initialization-and-configuration" tabindex="-1"><a class="header-anchor" href="#initialization-and-configuration"><span>Initialization and configuration</span></a></h3><p>This operation is performed once to initialize FeatureHub, and need to select the storage mode to work.</p><ul><li><strong>enablePersistence</strong>: Enable persistence mode, If not enabled, it will only be stored in the current memory.</li><li><strong>persistenceDbPath</strong>: After this function is enabled, you need to specify the path for saving the DB file.</li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-229-0" aria-selected="true">Java</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-229-1" aria-selected="false">Kotlin</button></div><!--[--><div class="vp-code-tab active" id="codetab-229-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">Java</div><!--[--><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code><span class="line"><span class="token class-name">FeatureHubConfiguration</span> configuration <span class="token operator">=</span> <span class="token class-name">InspireFace<span class="token punctuation">.</span>CreateFeatureHubConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">setEnablePersistence</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">setPersistenceDbPath</span><span class="token punctuation">(</span>dbPath<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">setSearchThreshold</span><span class="token punctuation">(</span><span class="token number">0.42f</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">setSearchMode</span><span class="token punctuation">(</span><span class="token class-name">InspireFace</span><span class="token punctuation">.</span><span class="token constant">SEARCH_MODE_EXHAUSTIVE</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">setPrimaryKeyMode</span><span class="token punctuation">(</span><span class="token class-name">InspireFace</span><span class="token punctuation">.</span><span class="token constant">PK_AUTO_INCREMENT</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">boolean</span> enableStatus <span class="token operator">=</span> <span class="token class-name">InspireFace<span class="token punctuation">.</span>FeatureHubDataEnable</span><span class="token punctuation">(</span>configuration<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;Enable feature hub data status: &quot;</span> <span class="token operator">+</span> enableStatus<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-229-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">Kotlin</div><!--[--><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><h3 id="insert-face" tabindex="-1"><a class="header-anchor" href="#insert-face"><span>Insert face</span></a></h3><p>Insert a face into the database</p><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-243-0" aria-selected="true">Java</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-243-1" aria-selected="false">Kotlin</button></div><!--[--><div class="vp-code-tab active" id="codetab-243-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">Java</div><!--[--><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code><span class="line"><span class="token keyword">boolean</span> succ <span class="token operator">=</span> <span class="token class-name">InspireFace<span class="token punctuation">.</span>FeatureHubInsertFeature</span><span class="token punctuation">(</span>identity<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// After successful insertion, you can save the id to your system</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>succ<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;Allocation ID: &quot;</span> <span class="token operator">+</span> identity<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-243-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">Kotlin</div><!--[--><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><h3 id="search-face" tabindex="-1"><a class="header-anchor" href="#search-face"><span>Search face</span></a></h3><p>Using the face embedding feature to search for similar faces.</p><ul><li>Search for the most similar faces</li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-264-0" aria-selected="true">Java</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-264-1" aria-selected="false">Kotlin</button></div><!--[--><div class="vp-code-tab active" id="codetab-264-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">Java</div><!--[--><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code><span class="line"><span class="token class-name">FaceFeatureIdentity</span> searched <span class="token operator">=</span> <span class="token class-name">InspireFace<span class="token punctuation">.</span>FeatureHubFaceSearch</span><span class="token punctuation">(</span>feature<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;Searched id: &quot;</span> <span class="token operator">+</span> searched<span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token string">&quot;, Confidence: &quot;</span> <span class="token operator">+</span> searched<span class="token punctuation">.</span>searchConfidence<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-264-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">Kotlin</div><!--[--><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><ul><li>Search for the most similar k faces</li></ul><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-279-0" aria-selected="true">Java</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-279-1" aria-selected="false">Kotlin</button></div><!--[--><div class="vp-code-tab active" id="codetab-279-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">Java</div><!--[--><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code><span class="line"><span class="token class-name">SearchTopKResults</span> topKResults <span class="token operator">=</span> <span class="token class-name">InspireFace<span class="token punctuation">.</span>FeatureHubFaceSearchTopK</span><span class="token punctuation">(</span>feature<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> topKResults<span class="token punctuation">.</span>num<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;TopK id: &quot;</span> <span class="token operator">+</span> topKResults<span class="token punctuation">.</span>ids<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;, Confidence: &quot;</span> <span class="token operator">+</span> topKResults<span class="token punctuation">.</span>confidence<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-279-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">Kotlin</div><!--[--><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><h3 id="update-face" tabindex="-1"><a class="header-anchor" href="#update-face"><span>Update face</span></a></h3><p>Specify an id to update face features.</p><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-293-0" aria-selected="true">Java</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-293-1" aria-selected="false">Kotlin</button></div><!--[--><div class="vp-code-tab active" id="codetab-293-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">Java</div><!--[--><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code><span class="line"><span class="token keyword">int</span> updateId <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span></span>
<span class="line">newFeature<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">float</span><span class="token punctuation">[</span><span class="token class-name">InspireFace<span class="token punctuation">.</span>GetFeatureLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">FaceFeatureIdentity</span> identity <span class="token operator">=</span> <span class="token class-name">FaceFeatureIdentity</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>updateId<span class="token punctuation">,</span> newFeature<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">boolean</span> updateSucc <span class="token operator">=</span> <span class="token class-name">InspireFace<span class="token punctuation">.</span>FeatureHubFaceUpdate</span><span class="token punctuation">(</span>identity<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>updateSucc<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;Update feature success: &quot;</span> <span class="token operator">+</span> updateId<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-293-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">Kotlin</div><!--[--><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><h3 id="remove-face" tabindex="-1"><a class="header-anchor" href="#remove-face"><span>Remove face</span></a></h3><p>Specify an id to remove a face from the database.</p><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-307-0" aria-selected="true">Java</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-307-1" aria-selected="false">Kotlin</button></div><!--[--><div class="vp-code-tab active" id="codetab-307-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">Java</div><!--[--><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code><span class="line"><span class="token keyword">int</span> removeId <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">boolean</span> removeSucc <span class="token operator">=</span> <span class="token class-name">InspireFace<span class="token punctuation">.</span>FeatureHubFaceRemove</span><span class="token punctuation">(</span>removeId<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>removeSucc<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;Remove feature success: &quot;</span> <span class="token operator">+</span> removeId<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-307-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">Kotlin</div><!--[--><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div><h3 id="get-face-embedding-1" tabindex="-1"><a class="header-anchor" href="#get-face-embedding-1"><span>Get face embedding</span></a></h3><p>Gets the embedding of a face by id.</p><div class="vp-code-tabs"><div class="vp-code-tabs-nav" role="tablist"><button type="button" class="vp-code-tab-nav active" role="tab" aria-controls="codetab-321-0" aria-selected="true">Java</button><button type="button" class="vp-code-tab-nav" role="tab" aria-controls="codetab-321-1" aria-selected="false">Kotlin</button></div><!--[--><div class="vp-code-tab active" id="codetab-321-0" role="tabpanel" aria-expanded="true"><div class="vp-code-tab-title">Java</div><!--[--><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java"><pre><code><span class="line"><span class="token keyword">int</span> id <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token class-name">FaceFeatureIdentity</span> identity <span class="token operator">=</span> <span class="token class-name">InspireFace<span class="token punctuation">.</span>FeatureHubGetFaceIdentity</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><!--]--></div><div class="vp-code-tab" id="codetab-321-1" role="tabpanel" aria-expanded="false"><div class="vp-code-tab-title">Kotlin</div><!--[--><div class="language-kotlin line-numbers-mode" data-highlighter="prismjs" data-ext="kt"><pre><code><span class="line">TODO</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><!--]--></div><!--]--></div></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated:: </span><time class="meta-item-info" datetime="2025-06-15T09:17:01.000Z" data-allow-mismatch>6/15/25, 9:17 AM</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: tunmxy@163.com">tunm</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: tunmxy@163.com">Jingyu</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/using-with/python.html" aria-label="Python"><!--[--><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span class="external-link">Python</span></div><!--]--></a><a class="route-link auto-link next" href="/using-with/ios.html" aria-label="iOS"><!--[--><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span class="external-link">iOS</span></div><!--]--></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-qoVs9asn.js" defer></script>
  </body>
</html>
